<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TouHou Music</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" crossorigin="anonymous">
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
</head>

<body>
    <div class="container-fluid">
        <!-- æœç´¢æ  -->
        <div class="row mb-4 search-bar">
            <div class="col-md-3 col-12">
                <input type="text" id="search-album-input" class="form-control" placeholder="Search for albums...">
            </div>
            <div class="col-md-3 col-12">
                <input type="text" id="search-artist-input" class="form-control" placeholder="Search for artists...">
            </div>
            <div class="col-md-3 col-12">
                <input type="text" id="search-song-input" class="form-control" placeholder="Search for songs...">
            </div>
            <div class="col-md-3 col-12">
                <div class="row">
                    <div class="col-3">
                        <button  id="up-button" class="btn btn-primary btn-block" onclick="upPage('0')">â†</button>
                    </div>
                    <div class="col-3">
                        <button id="home-button" class="btn btn-primary btn-block" onclick="loadAlbums(globalpage)">ğŸ </button>
                    </div>
                    <div class="col-3">
                        <button id="down-button" class="btn btn-primary btn-block" onclick="downPage('0')">â†’</button>
                    </div>
                    <div class="col-3">
                        <button id="about-button" class="btn btn-primary btn-block" onclick="showPopup()">â—</button>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="row">
            <div class="col-md-3 col-12 artistlist-div">
                <div class="artistlist">
                    <h3>åŒäººç¤¾å›¢åˆ—è¡¨</h3>
                    <!-- è‰ºæœ¯å®¶åˆ—è¡¨å†…å®¹ä¼šè¢«åŠ¨æ€åŠ è½½åˆ°è¿™é‡Œ -->
                </div>
            </div>
            <div class="col-md-9 col-12">
                <!-- ä¸»ä½“å†…å®¹ -->

                <div id="content">
                    <!-- å†…å®¹é€šè¿‡AJAXåŠ è½½ -->
                </div>
            </div>
        </div>
    </div>

    <!-- æ’­æ”¾å™¨åŒºåŸŸ -->
    <div id="player" class="d-none">
        <audio id="audio-player" controls></audio>
        <div id="current-song-title"></div>
        <img id="current-album-cover" src="https://via.placeholder.com/50" alt="Album Cover">
        <div id="progress-container">
            <input type="range" id="progress-bar" value="0" max="100">
        </div>
    </div>

    <!-- å¼•å…¥jQueryå’ŒBootstrapçš„å•ç‹¬æ–‡ä»¶ -->
    <script src="{{ url_for('static', filename='js/jquery.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>

    <!-- å¼•å…¥æ‹†åˆ†åçš„JavaScriptæ–‡ä»¶ -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/albums.js') }}"></script>
    <script src="{{ url_for('static', filename='js/search.js') }}"></script>
    <script src="{{ url_for('static', filename='js/playback.js') }}"></script>
    <script src="{{ url_for('static', filename='js/artist.js') }}"></script>
    <script>
        var globalpage = 0;
        $(document).ready(function () {
            // é¡µé¢åŠ è½½æ—¶ä¿æŒæ’­æ”¾å™¨åŒºåŸŸéšè—
            $('#player').hide();
            // é¡µé¢åˆå§‹åŒ–æ—¶çš„å¤„ç†
            $(document).ready(function () {
                // åŠ è½½é¡µé¢æ—¶æ£€æŸ¥å½“å‰URLè·¯å¾„
                checkUrlPage();

                // ç›‘å¬ popstate äº‹ä»¶ï¼Œä»¥ä¾¿åœ¨ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„å‰è¿›æˆ–åé€€æŒ‰é’®æ—¶æ£€æŸ¥URLè·¯å¾„
                window.addEventListener('popstate', function (event) {
                    checkUrlPage(urlpage);
                });
            });
        });
    </script>
</body>

</html>